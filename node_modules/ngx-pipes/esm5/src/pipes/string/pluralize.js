/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Pipe } from "@angular/core";
import { isVowel } from "../helpers/helpers";
var MakePluralStringPipe = /** @class */ (function () {
    function MakePluralStringPipe() {
        this.irregularMap = {
            addendum: "addenda",
            alga: "algae",
            alumna: "alumnae",
            alumnus: "alumni",
            analysis: "analyses",
            antenna: "antennae",
            appendix: "appendices",
            aquarium: "aquaria",
            arch: "arches",
            axe: "axes",
            axis: "axes",
            bacillus: "bacilli",
            bacterium: "bacteria",
            basis: "bases",
            batch: "batches",
            beach: "beaches",
            beau: "beaux",
            bison: "bison",
            brush: "brushes",
            buffalo: "buffaloes",
            bureau: "bureaus",
            bus: "busses",
            cactus: "cacti",
            calf: "calves",
            chateau: "chateaux",
            cherry: "cherries",
            child: "children",
            church: "churches",
            circus: "circuses",
            cod: "cod",
            corps: "corps",
            corpus: "corpora",
            crisis: "crises",
            criterion: "criteria",
            curriculum: "curricula",
            datum: "data",
            deer: "deer",
            diagnosis: "diagnoses",
            die: "dice",
            domino: "dominoes",
            dwarf: "dwarves",
            echo: "echoes",
            elf: "elves",
            ellipsis: "ellipses",
            embargo: "embargoes",
            emphasis: "emphases",
            erratum: "errata",
            fax: "faxes",
            fireman: "firemen",
            fish: "fish",
            flush: "flushes",
            focus: "foci",
            foot: "feet",
            formula: "formulas",
            fungus: "fungi",
            genus: "genera",
            goose: "geese",
            grafito: "grafiti",
            half: "halves",
            hero: "heroes",
            hoax: "hoaxes",
            hoof: "hooves",
            hypothesis: "hypotheses",
            index: "indices",
            kiss: "kisses",
            knife: "knives",
            leaf: "leaves",
            life: "lives",
            loaf: "loaves",
            louse: "lice",
            man: "men",
            mango: "mangoes",
            matrix: "matrices",
            means: "means",
            medium: "media",
            memorandum: "memoranda",
            millennium: "milennia",
            moose: "moose",
            mosquito: "mosquitoes",
            motto: "mottoes",
            mouse: "mice",
            nebula: "nebulae",
            neurosis: "neuroses",
            nucleus: "nuclei",
            oasis: "oases",
            octopus: "octopodes",
            ovum: "ova",
            ox: "oxen",
            paralysis: "paralyses",
            parenthesis: "parentheses",
            person: "people",
            phenomenon: "phenomena",
            plateau: "plateaux",
            potato: "potatoes",
            quiz: "quizzes",
            radius: "radii",
            reflex: "reflexes",
            "runner-up": "runners-up",
            scampo: "scampi",
            scarf: "scarves",
            scissors: "scissors",
            scratch: "scratches",
            self: "selves",
            series: "series",
            sheaf: "sheaves",
            sheep: "sheep",
            shelf: "shelves",
            "son-in-law": "sons-in-law",
            species: "species",
            splash: "splashes",
            stimulus: "stimuli",
            stitch: "stitches",
            stratum: "strata",
            syllabus: "syllabi",
            symposium: "symposia",
            synopsis: "synopses",
            synthesis: "syntheses",
            tableau: "tableaux",
            tax: "taxes",
            that: "those",
            thesis: "theses",
            thief: "thieves",
            this: "these",
            tomato: "tomatoes",
            tooth: "teeth",
            tornado: "tornadoes",
            torpedo: "torpedoes",
            vertebra: "vertebrae",
            veto: "vetoes",
            vita: "vitae",
            volcano: "volcanoes",
            waltz: "waltzes",
            wash: "washes",
            watch: "watches",
            wharf: "wharves",
            wife: "wives",
            wolf: "wolves",
            woman: "women",
            zero: "zeroes",
        };
    }
    /**
     * @param {?} singularEntity
     * @param {?=} quantity
     * @return {?}
     */
    MakePluralStringPipe.prototype.transform = /**
     * @param {?} singularEntity
     * @param {?=} quantity
     * @return {?}
     */
    function (singularEntity, quantity) {
        if (quantity === void 0) { quantity = 0; }
        if (!singularEntity || singularEntity === "") {
            return "";
        }
        if (quantity === 1) {
            return singularEntity;
        }
        else {
            var /** @type {?} */ lastWord = singularEntity.trim().split(" ")[singularEntity.trim().split(" ").length - 1];
            if (this.irregularMap[lastWord.toLocaleLowerCase()]) {
                if (lastWord[0] === lastWord[0].toLocaleUpperCase()) {
                    return singularEntity.replace(lastWord, this.irregularMap[lastWord.toLocaleLowerCase()].replace(this.irregularMap[lastWord.toLocaleLowerCase()][0], this.irregularMap[lastWord.toLocaleLowerCase()][0].toLocaleUpperCase()));
                }
                return singularEntity.replace(lastWord, this.irregularMap[lastWord.toLocaleLowerCase()]);
            }
            else if (lastWord[lastWord.length - 1] === "y") {
                // Naive approach:
                // consonant+y = word - 'y' +'ies'
                // vowel+y = word + 's'
                return isVowel(lastWord[lastWord.length - 2])
                    ? singularEntity + "s"
                    : singularEntity.replace(lastWord, lastWord.slice(0, -1) + "ies");
            }
            else if (lastWord[lastWord.length - 1] === "s") {
                return singularEntity + "es";
            }
            else {
                return singularEntity + "s";
            }
        }
    };
    MakePluralStringPipe.decorators = [
        { type: Pipe, args: [{
                    name: "make-plural-string",
                },] },
    ];
    return MakePluralStringPipe;
}());
export { MakePluralStringPipe };
function MakePluralStringPipe_tsickle_Closure_declarations() {
    /** @type {?} */
    MakePluralStringPipe.prototype.irregularMap;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGx1cmFsaXplLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmd4LXBpcGVzLyIsInNvdXJjZXMiOlsic3JjL3BpcGVzL3N0cmluZy9wbHVyYWxpemUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQWlCLE1BQU0sZUFBZSxDQUFDO0FBQ3BELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQzs7OzRCQW1CZjtZQUMxQixRQUFRLEVBQUUsU0FBUztZQUNuQixJQUFJLEVBQUUsT0FBTztZQUNiLE1BQU0sRUFBRSxTQUFTO1lBQ2pCLE9BQU8sRUFBRSxRQUFRO1lBQ2pCLFFBQVEsRUFBRSxVQUFVO1lBQ3BCLE9BQU8sRUFBRSxVQUFVO1lBQ25CLFFBQVEsRUFBRSxZQUFZO1lBQ3RCLFFBQVEsRUFBRSxTQUFTO1lBQ25CLElBQUksRUFBRSxRQUFRO1lBQ2QsR0FBRyxFQUFFLE1BQU07WUFDWCxJQUFJLEVBQUUsTUFBTTtZQUNaLFFBQVEsRUFBRSxTQUFTO1lBQ25CLFNBQVMsRUFBRSxVQUFVO1lBQ3JCLEtBQUssRUFBRSxPQUFPO1lBQ2QsS0FBSyxFQUFFLFNBQVM7WUFDaEIsS0FBSyxFQUFFLFNBQVM7WUFDaEIsSUFBSSxFQUFFLE9BQU87WUFDYixLQUFLLEVBQUUsT0FBTztZQUNkLEtBQUssRUFBRSxTQUFTO1lBQ2hCLE9BQU8sRUFBRSxXQUFXO1lBQ3BCLE1BQU0sRUFBRSxTQUFTO1lBQ2pCLEdBQUcsRUFBRSxRQUFRO1lBQ2IsTUFBTSxFQUFFLE9BQU87WUFDZixJQUFJLEVBQUUsUUFBUTtZQUNkLE9BQU8sRUFBRSxVQUFVO1lBQ25CLE1BQU0sRUFBRSxVQUFVO1lBQ2xCLEtBQUssRUFBRSxVQUFVO1lBQ2pCLE1BQU0sRUFBRSxVQUFVO1lBQ2xCLE1BQU0sRUFBRSxVQUFVO1lBQ2xCLEdBQUcsRUFBRSxLQUFLO1lBQ1YsS0FBSyxFQUFFLE9BQU87WUFDZCxNQUFNLEVBQUUsU0FBUztZQUNqQixNQUFN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Z0JBQ2pELE1BQU0sQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO2FBQzlCO1lBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ04sTUFBTSxDQUFDLGNBQWMsR0FBRyxHQUFHLENBQUM7YUFDN0I7U0FDRjtLQUNGOztnQkFsTUYsSUFBSSxTQUFDO29CQUNKLElBQUksRUFBRSxvQkFBb0I7aUJBQzNCOzsrQkFMRDs7U0FtQmEsb0JBQW9CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBpc1Zvd2VsIH0gZnJvbSBcIi4uL2hlbHBlcnMvaGVscGVyc1wiO1xuXG5AUGlwZSh7XG4gIG5hbWU6IFwibWFrZS1wbHVyYWwtc3RyaW5nXCIsXG59KVxuXG4vKipcbiAqIFRha2VzIGEgc2luZ3VsYXIgZW50aXR5IHN0cmluZyBhbmQgcGx1cmFsaXplcyBpdC5cbiAqIFVzZXMgYm90aCBuYWl2ZSBhbmQgaG9sZG91dC1saXN0IGFwcHJvYWNoZXMuXG4gKiBJZiBzZXZlcmFsIHdvcmRzIGFwcGVhciBpbiB0aGUgc3RyaW5nLCBvbmx5IHRoZSBsYXN0IHdvcmQgaXMgcGx1cmFsaXplZCAtLSB0aGlzXG4gKiBtZWFucyB0aGF0IGlmIFwieW91ciBzdG9yeVwiIHdhcyBwYXNzZWQgaW4sIFwieW91ciBzdG9yaWVzXCIgd291bGQgYmUgcGFzc2VkIG91dC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IHNpbmd1bGFyRW50aXR5IC0gRW50aXR5IHRvIHBsdXJhbGl6ZS4gUGFzcyBhcyBhIHNpbmd1bGFyICgnc3RvcnknIG9yICdob3VzZScpLlxuICogICAgICAgICAgTk9URTogVGhlIGxhc3Qgd29yZCBpcyBleGFtaW5lZC4gU28geW91IGNhbiBwYXNzIGluIGUuZy4gJ215IHN0b3J5Jy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbnRpdHk9MF0gcXVhbnRpdHkgLSBIb3cgbWFueSBvZiB0aGUgZW50aXR5IGFyZSB0aGVyZT8gSWYgbGVmdCBibGFuaywgdGhpcyB3aWxsXG4gKiAgICAgICAgICBwbHVyYWxpemUgdGhlIHN0cmluZyAoZS5nLiAnc3RvcnknIC0+ICdzdG9yaWVzJywgJ2hvdXNlJyAtPiAnaG91c2VzJykuIElmIGdpdmVuIGEgdmFsdWUsXG4gKiAgICAgICAgICB0aGlzIHdpbGwgcGx1cmFsaXplIGFwcHJvcHJpYXRlbHkgKGUuZy4gKCdzdG9yeScsIDEpIC0+ICdzdG9yeScsICgnc3RvcnknLCAyKSAtPiAnc3RvcmllcycpLlxuICovXG5leHBvcnQgY2xhc3MgTWFrZVBsdXJhbFN0cmluZ1BpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcbiAgcHJpdmF0ZSBpcnJlZ3VsYXJNYXA6IGFueSA9IHtcbiAgICBhZGRlbmR1bTogXCJhZGRlbmRhXCIsXG4gICAgYWxnYTogXCJhbGdhZVwiLFxuICAgIGFsdW1uYTogXCJhbHVtbmFlXCIsXG4gICAgYWx1bW51czogXCJhbHVtbmlcIixcbiAgICBhbmFseXNpczogXCJhbmFseXNlc1wiLFxuICAgIGFudGVubmE6IFwiYW50ZW5uYWVcIixcbiAgICBhcHBlbmRpeDogXCJhcHBlbmRpY2VzXCIsXG4gICAgYXF1YXJpdW06IFwiYXF1YXJpYVwiLFxuICAgIGFyY2g6IFwiYXJjaGVzXCIsXG4gICAgYXhlOiBcImF4ZXNcIixcbiAgICBheGlzOiBcImF4ZXNcIixcbiAgICBiYWNpbGx1czogXCJiYWNpbGxpXCIsXG4gICAgYmFjdGVyaXVtOiBcImJhY3RlcmlhXCIsXG4gICAgYmFzaXM6IFwiYmFzZXNcIixcbiAgICBiYXRjaDogXCJiYXRjaGVzXCIsXG4gICAgYmVhY2g6IFwiYmVhY2hlc1wiLFxuICAgIGJlYXU6IFwiYmVhdXhcIixcbiAgICBiaXNvbjogXCJiaXNvblwiLFxuICAgIGJydXNoOiBcImJydXNoZXNcIixcbiAgICBidWZmYWxvOiBcImJ1ZmZhbG9lc1wiLFxuICAgIGJ1cmVhdTogXCJidXJlYXVzXCIsXG4gICAgYnVzOiBcImJ1c3Nlc1wiLFxuICAgIGNhY3R1czogXCJjYWN0aVwiLFxuICAgIGNhbGY6IFwiY2FsdmVzXCIsXG4gICAgY2hhdGVhdTogXCJjaGF0ZWF1eFwiLFxuICAgIGNoZXJyeTogXCJjaGVycmllc1wiLFxuICAgIGNoaWxkOiBcImNoaWxkcmVuXCIsXG4gICAgY2h1cmNoOiBcImNodXJjaGVzXCIsXG4gICAgY2lyY3VzOiBcImNpcmN1c2VzXCIsXG4gICAgY29kOiBcImNvZFwiLFxuICAgIGNvcnBzOiBcImNvcnBzXCIsXG4gICAgY29ycHVzOiBcImNvcnBvcmFcIixcbiAgICBjcmlzaXM6IFwiY3Jpc2VzXCIsXG4gICAgY3JpdGVyaW9uOiBcImNyaXRlcmlhXCIsXG4gICAgY3VycmljdWx1bTogXCJjdXJyaWN1bGFcIixcbiAgICBkYXR1bTogXCJkYXRhXCIsXG4gICAgZGVlcjogXCJkZWVyXCIsXG4gICAgZGlhZ25vc2lzOiBcImRpYWdub3Nlc1wiLFxuICAgIGRpZTogXCJkaWNlXCIsXG4gICAgZG9taW5vOiBcImRvbWlub2VzXCIsXG4gICAgZHdhcmY6IFwiZHdhcnZlc1wiLFxuICAgIGVjaG86IFwiZWNob2VzXCIsXG4gICAgZWxmOiBcImVsdmVzXCIsXG4gICAgZWxsaXBzaXM6IFwiZWxsaXBzZXNcIixcbiAgICBlbWJhcmdvOiBcImVtYmFyZ29lc1wiLFxuICAgIGVtcGhhc2lzOiBcImVtcGhhc2VzXCIsXG4gICAgZXJyYXR1bTogXCJlcnJhdGFcIixcbiAgICBmYXg6IFwiZmF4ZXNcIixcbiAgICBmaXJlbWFuOiBcImZpcmVtZW5cIixcbiAgICBmaXNoOiBcImZpc2hcIixcbiAgICBmbHVzaDogXCJmbHVzaGVzXCIsXG4gICAgZm9jdXM6IFwiZm9jaVwiLFxuICAgIGZvb3Q6IFwiZmVldFwiLFxuICAgIGZvcm11bGE6IFwiZm9ybXVsYXNcIixcbiAgICBmdW5ndXM6IFwiZnVuZ2lcIixcbiAgICBnZW51czogXCJnZW5lcmFcIixcbiAgICBnb29zZTogXCJnZWVzZVwiLFxuICAgIGdyYWZpdG86IFwiZ3JhZml0aVwiLFxuICAgIGhhbGY6IFwiaGFsdmVzXCIsXG4gICAgaGVybzogXCJoZXJvZXNcIixcbiAgICBob2F4OiBcImhvYXhlc1wiLFxuICAgIGhvb2Y6IFwiaG9vdmVzXCIsXG4gICAgaHlwb3RoZXNpczogXCJoeXBvdGhlc2VzXCIsXG4gICAgaW5kZXg6IFwiaW5kaWNlc1wiLFxuICAgIGtpc3M6IFwia2lzc2VzXCIsXG4gICAga25pZmU6IFwia25pdmVzXCIsXG4gICAgbGVhZjogXCJsZWF2ZXNcIixcbiAgICBsaWZlOiBcImxpdmVzXCIsXG4gICAgbG9hZjogXCJsb2F2ZXNcIixcbiAgICBsb3VzZTogXCJsaWNlXCIsXG4gICAgbWFuOiBcIm1lblwiLFxuICAgIG1hbmdvOiBcIm1hbmdvZXNcIixcbiAgICBtYXRyaXg6IFwibWF0cmljZXNcIixcbiAgICBtZWFuczogXCJtZWFuc1wiLFxuICAgIG1lZGl1bTogXCJtZWRpYVwiLFxuICAgIG1lbW9yYW5kdW06IFwibWVtb3JhbmRhXCIsXG4gICAgbWlsbGVubml1bTogXCJtaWxlbm5pYVwiLFxuICAgIG1vb3NlOiBcIm1vb3NlXCIsXG4gICAgbW9zcXVpdG86IFwibW9zcXVpdG9lc1wiLFxuICAgIG1vdHRvOiBcIm1vdHRvZXNcIixcbiAgICBtb3VzZTogXCJtaWNlXCIsXG4gICAgbmVidWxhOiBcIm5lYnVsYWVcIixcbiAgICBuZXVyb3NpczogXCJuZXVyb3Nlc1wiLFxuICAgIG51Y2xldXM6IFwibnVjbGVpXCIsXG4gICAgb2FzaXM6IFwib2FzZXNcIixcbiAgICBvY3RvcHVzOiBcIm9jdG9wb2Rlc1wiLFxuICAgIG92dW06IFwib3ZhXCIsXG4gICAgb3g6IFwib3hlblwiLFxuICAgIHBhcmFseXNpczogXCJwYXJhbHlzZXNcIixcbiAgICBwYXJlbnRoZXNpczogXCJwYXJlbnRoZXNlc1wiLFxuICAgIHBlcnNvbjogXCJwZW9wbGVcIixcbiAgICBwaGVub21lbm9uOiBcInBoZW5vbWVuYVwiLFxuICAgIHBsYXRlYXU6IFwicGxhdGVhdXhcIixcbiAgICBwb3RhdG86IFwicG90YXRvZXNcIixcbiAgICBxdWl6OiBcInF1aXp6ZXNcIixcbiAgICByYWRpdXM6IFwicmFkaWlcIixcbiAgICByZWZsZXg6IFwicmVmbGV4ZXNcIixcbiAgICBcInJ1bm5lci11cFwiOiBcInJ1bm5lcnMtdXBcIixcbiAgICBzY2FtcG86IFwic2NhbXBpXCIsXG4gICAgc2NhcmY6IFwic2NhcnZlc1wiLFxuICAgIHNjaXNzb3JzOiBcInNjaXNzb3JzXCIsXG4gICAgc2NyYXRjaDogXCJzY3JhdGNoZXNcIixcbiAgICBzZWxmOiBcInNlbHZlc1wiLFxuICAgIHNlcmllczogXCJzZXJpZXNcIixcbiAgICBzaGVhZjogXCJzaGVhdmVzXCIsXG4gICAgc2hlZXA6IFwic2hlZXBcIixcbiAgICBzaGVsZjogXCJzaGVsdmVzXCIsXG4gICAgXCJzb24taW4tbGF3XCI6IFwic29ucy1pbi1sYXdcIixcbiAgICBzcGVjaWVzOiBcInNwZWNpZXNcIixcbiAgICBzcGxhc2g6IFwic3BsYXNoZXNcIixcbiAgICBzdGltdWx1czogXCJzdGltdWxpXCIsXG4gICAgc3RpdGNoOiBcInN0aXRjaGVzXCIsXG4gICAgc3RyYXR1bTogXCJzdHJhdGFcIixcbiAgICBzeWxsYWJ1czogXCJzeWxsYWJpXCIsXG4gICAgc3ltcG9zaXVtOiBcInN5bXBvc2lhXCIsXG4gICAgc3lub3BzaXM6IFwic3lub3BzZXNcIixcbiAgICBzeW50aGVzaXM6IFwic3ludGhlc2VzXCIsXG4gICAgdGFibGVhdTogXCJ0YWJsZWF1eFwiLFxuICAgIHRheDogXCJ0YXhlc1wiLFxuICAgIHRoYXQ6IFwidGhvc2VcIixcbiAgICB0aGVzaXM6IFwidGhlc2VzXCIsXG4gICAgdGhpZWY6IFwidGhpZXZlc1wiLFxuICAgIHRoaXM6IFwidGhlc2VcIixcbiAgICB0b21hdG86IFwidG9tYXRvZXNcIixcbiAgICB0b290aDogXCJ0ZWV0aFwiLFxuICAgIHRvcm5hZG86IFwidG9ybmFkb2VzXCIsXG4gICAgdG9ycGVkbzogXCJ0b3JwZWRvZXNcIixcbiAgICB2ZXJ0ZWJyYTogXCJ2ZXJ0ZWJyYWVcIixcbiAgICB2ZXRvOiBcInZldG9lc1wiLFxuICAgIHZpdGE6IFwidml0YWVcIixcbiAgICB2b2xjYW5vOiBcInZvbGNhbm9lc1wiLFxuICAgIHdhbHR6OiBcIndhbHR6ZXNcIixcbiAgICB3YXNoOiBcIndhc2hlc1wiLFxuICAgIHdhdGNoOiBcIndhdGNoZXNcIixcbiAgICB3aGFyZjogXCJ3aGFydmVzXCIsXG4gICAgd2lmZTogXCJ3aXZlc1wiLFxuICAgIHdvbGY6IFwid29sdmVzXCIsXG4gICAgd29tYW46IFwid29tZW5cIixcbiAgICB6ZXJvOiBcInplcm9lc1wiLFxuICB9O1xuXG4gIHRyYW5zZm9ybShzaW5ndWxhckVudGl0eTogc3RyaW5nLCBxdWFudGl0eTogbnVtYmVyID0gMCk6IHN0cmluZyB7XG4gICAgaWYgKCFzaW5ndWxhckVudGl0eSB8fCBzaW5ndWxhckVudGl0eSA9PT0gXCJcIikge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuXG4gICAgaWYgKHF1YW50aXR5ID09PSAxKSB7XG4gICAgICByZXR1cm4gc2luZ3VsYXJFbnRpdHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGxhc3RXb3JkID0gc2luZ3VsYXJFbnRpdHkudHJpbSgpLnNwbGl0KFwiIFwiKVtzaW5ndWxhckVudGl0eS50cmltKCkuc3BsaXQoXCIgXCIpLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKHRoaXMuaXJyZWd1bGFyTWFwW2xhc3RXb3JkLnRvTG9jYWxlTG93ZXJDYXNlKCldKSB7XG4gICAgICAgIGlmIChsYXN0V29yZFswXSA9PT0gbGFzdFdvcmRbMF0udG9Mb2NhbGVVcHBlckNhc2UoKSkge1xuICAgICAgICAgIHJldHVybiBzaW5ndWxhckVudGl0eS5yZXBsYWNlKFxuICAgICAgICAgICAgbGFzdFdvcmQsXG4gICAgICAgICAgICB0aGlzLmlycmVndWxhck1hcFtsYXN0V29yZC50b0xvY2FsZUxvd2VyQ2FzZSgpXS5yZXBsYWNlKFxuICAgICAgICAgICAgICB0aGlzLmlycmVndWxhck1hcFtsYXN0V29yZC50b0xvY2FsZUxvd2VyQ2FzZSgpXVswXSxcbiAgICAgICAgICAgICAgdGhpcy5pcnJlZ3VsYXJNYXBbbGFzdFdvcmQudG9Mb2NhbGVMb3dlckNhc2UoKV1bMF0udG9Mb2NhbGVVcHBlckNhc2UoKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2luZ3VsYXJFbnRpdHkucmVwbGFjZShsYXN0V29yZCwgdGhpcy5pcnJlZ3VsYXJNYXBbbGFzdFdvcmQudG9Mb2NhbGVMb3dlckNhc2UoKV0pO1xuICAgICAgfSBlbHNlIGlmIChsYXN0V29yZFtsYXN0V29yZC5sZW5ndGggLSAxXSA9PT0gXCJ5XCIpIHtcbiAgICAgICAgLy8gTmFpdmUgYXBwcm9hY2g6XG4gICAgICAgIC8vIGNvbnNvbmFudCt5ID0gd29yZCAtICd5JyArJ2llcydcbiAgICAgICAgLy8gdm93ZWwreSA9IHdvcmQgKyAncydcblxuICAgICAgICByZXR1cm4gaXNWb3dlbChsYXN0V29yZFtsYXN0V29yZC5sZW5ndGggLSAyXSlcbiAgICAgICAgICA/IHNpbmd1bGFyRW50aXR5ICsgXCJzXCJcbiAgICAgICAgICA6IHNpbmd1bGFyRW50aXR5LnJlcGxhY2UobGFzdFdvcmQsIGxhc3RXb3JkLnNsaWNlKDAsIC0xKSArIFwiaWVzXCIpO1xuICAgICAgfSBlbHNlIGlmIChsYXN0V29yZFtsYXN0V29yZC5sZW5ndGggLSAxXSA9PT0gXCJzXCIpIHtcbiAgICAgICAgcmV0dXJuIHNpbmd1bGFyRW50aXR5ICsgXCJlc1wiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNpbmd1bGFyRW50aXR5ICsgXCJzXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0=